p8105\_hw2\_ml4239.git
================

Problem 1 NYC transit
=====================

Import and clean &retain some data;
-----------------------------------

retain line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance.

``` r
NYC_transit_data<-read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, route1:route11, entry, vending, entrance_type, ada) 
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

convert entry variable to from character (`rYES` vs `rNO`) to a logical variable

``` r
ifelse(NYC_transit_data$entry == "YES", TRUE, FALSE) %>% 
  str()
```

    ##  logi [1:1868] TRUE TRUE TRUE TRUE TRUE TRUE ...

The NYC\_transit\_data dataset contains the following variables:
----------------------------------------------------------------

line, station\_name, station\_latitude, station\_longitude, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11, entry, vending, entrance\_type, ada

-   line: tracks that trains run over
-   station\_name: station names
-   station\_latitude: the latitude location of the station
-   station\_longitude: the longitude location of the station
-   route 1-11: route the station serves
-   entry: logical vector to show if the station has entry (TRUE) or not (FALSE)
-   vending: if the station has vending system or not
-   entrance\_type: the type of entrance (stair, elevator, door, etc.)
-   ada: if the station is ADA compliant

The steps that I used to clean the data:
----------------------------------------

After importing the data, I used `clean_names` from `janitor package` to clean the names. And then I select some variables from the original dataset, and convert the 'entry' variable from character to logical variable.

Overview about the dataset
--------------------------

The dimension of the resulting dataset is 1868, 19 after cleaning.

These datas are not tidy because the route number and route name variable are not in their own columns. The variables from route 1 to 11 can be put into the same column as "route\_name"variable.

Questions using these data
--------------------------

-   How many distinct stations are there?

``` r
nrow(distinct(NYC_transit_data, station_name, line ))
```

    ## [1] 465

-   How many stations are ADA compliant?

``` r
NYC_transit_data %>% 
filter(ada==TRUE) %>% 
  distinct(station_name,line) %>% 
  nrow()
```

    ## [1] 84

-   What proportion of station entrances / exits without vending allow entrance?

``` r
  sum(NYC_transit_data$vending == "NO"& NYC_transit_data$entry == "YES")/sum (NYC_transit_data$vending == "NO")
```

    ## [1] 0.3770492
